sql优化顺序

## 一、选择合适的DBMS

商业数据库

mysql 的各个存储引擎

## 二、优化表设计

1、表结构遵循第三范式

2、多表联查，反范式进行优化，时间换空间

3、字段选择 能采用数字不采用字符，长度固定用char，不固定用varchar

## 三、优化逻辑查询

不使用select*

不在where子句写函数

子查询优化、等价谓词重写、视图重写、条件简化、连接消除和嵌
套连接消除等。

## 四、优化物理查询

建立索引

注意各种索引及规范

五、使用redis等nosql

六、分库分表

主从架构，优化读写策略

如果数据库中的数据表过多，可以采用垂直分库的方式，将关联的数据表部署在一个数据库
上。

如果数据表中的列过多，可以采用垂直分表的方式，将数据表分拆成多张，把经常一起使用
的列放到同一张表里。

如果数据表中的数据达到了亿级以上，可以考虑水平切分，将大的数据表分拆成不同的子
表，每张表保持相同的表结构。比如你可以按照年份来划分，把不同年份的数据放到不同的
数据表中。2017 年、2018 年和 2019 年的数据就可以分别放到三张数据表中。

采用垂直分表的形式，就是将一张数据表分拆成多张表，采用水平拆分的方式，就是将单张
数据量大的表按照某个属性维度分成不同的小表。